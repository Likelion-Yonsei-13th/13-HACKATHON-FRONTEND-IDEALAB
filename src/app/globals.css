@plugin "@tailwindcss/typography";

@import "tailwindcss";

:root {
  --background: #ffffff;
  --foreground: #171717;
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
}

@media (prefers-color-scheme: dark) {
  :root {
    --background: #0a0a0a;
    --foreground: #ededed;
  }
}

body {
  background: var(--background);
  color: var(--foreground);
  font-family: Arial, Helvetica, sans-serif;
}

/* 에디터 렌더링 보정 */
.editor-content h1 { @apply text-3xl font-bold mt-6 mb-3; }
.editor-content h2 { @apply text-2xl font-semibold mt-5 mb-2; }
.editor-content p  { @apply my-2; }

/* 목록은 Tailwind가 list-style과 padding을 없애서 안 보임 → 복원 */
.editor-content ul { @apply list-disc pl-6 my-2; }
.editor-content ol { @apply list-decimal pl-6 my-2; }
.editor-content li { @apply my-1; }

/* TipTap 기본 스타일 */
.tiptap:focus { outline: none; }

/* 제목 크기 */
.tiptap h1 { font-size: 1.75rem; line-height: 2.25rem; font-weight: 700; margin: 1rem 0 .5rem; }
.tiptap h2 { font-size: 1.5rem;  line-height: 2rem;   font-weight: 700; margin: .75rem 0 .5rem; }
.tiptap h3 { font-size: 1.25rem; line-height: 1.75rem; font-weight: 600; margin: .5rem 0 .25rem; }

/* 목록 표시 (Tailwind reset 때문에 꼭 필요) */
.tiptap ul { list-style: disc; padding-left: 1.5rem; margin: .5rem 0; }
.tiptap ol { list-style: decimal; padding-left: 1.5rem; margin: .5rem 0; }
.tiptap li { margin: .25rem 0; }

/* 체크리스트 */
.tiptap ul[data-type="taskList"] { list-style: none; padding-left: 0; }
.tiptap ul[data-type="taskList"] li { display: flex; gap: .5rem; }
.tiptap ul[data-type="taskList"] li > label { margin-right: .5rem; }

/* === IDEALab editor tables === */
.prose .tableWrapper { overflow-x: auto; }

.prose table {
  width: 100%;
  border-collapse: collapse;   /* 선 끊김 방지 */
  table-layout: fixed;         /* 열/행 리사이즈 안정화 */
}

.prose th,
.prose td {
  border: 1px solid #d1d5db;   /* 모든 칸 테두리 */
  padding: 8px;
  position: relative;          /* 핸들 배치용 */
}

.prose th { background: #f8fafc; font-weight: 600; }

.prose .selectedCell::after {
  content: "";
  position: absolute;
  inset: 0;
  outline: 2px solid #3b82f6;
  outline-offset: -2px;
  pointer-events: none;
}

/* 열(세로) 리사이즈 핸들 – TipTap 기본 */
.prose .column-resize-handle {
  position: absolute;
  right: -2px;
  top: 0;
  width: 4px;
  height: 100%;
  background: #3b82f6;
  opacity: 0;
  transition: opacity .12s ease;
}
.prose td:hover > .column-resize-handle,
.prose th:hover > .column-resize-handle {
  opacity: .6;
  cursor: col-resize;
}

/* 행(가로) 리사이즈 핸들 – 커스텀 */
.prose .row-resize-handle {
  position: absolute;
  left: 0;
  right: 0;
  bottom: -2px;
  height: 4px;
  background: #3b82f6;
  opacity: 0;
  transition: opacity .12s ease;
  cursor: row-resize;
}
.prose tr:hover .row-resize-handle { opacity: .6; }


.breadcrumb {
  position: sticky;
  top: 0;              /* 화면 맨 위에 고정 */
  background: #fff;    /* 내용이 스크롤될 때 가려지지 않도록 흰 배경 */
  z-index: 100;        /* 툴바보다 위에 올라오도록 */
  padding: 8px 12px;
}

.toolbar {
  border-bottom: none !important; 
}

/* Tiptap 표 기본 스타일 */
.ProseMirror table { border-collapse: collapse; width: 100%; }
.ProseMirror th, .ProseMirror td { border: 1px solid #e5e7eb; padding: 6px 8px; }
.ProseMirror th { background: #f9fafb; font-weight: 600; }


.ProseMirror table { border-collapse: collapse; width: 100%; }
.ProseMirror th, .ProseMirror td { border: 1px solid #e5e7eb; padding: 6px 8px; position: relative; }
.ProseMirror th { background: #f9fafb; font-weight: 600; }
.ProseMirror .column-resize-handle { position:absolute; right:-2px; top:0; bottom:0; width:4px; background:#a3a3a3; opacity:0; cursor:col-resize; }
.ProseMirror th:hover .column-resize-handle, .ProseMirror td:hover .column-resize-handle { opacity:.6; }

/* TipTap region 토큰 표시 */
.region-token {
  color: #0472DE;
  font-weight: 700;
  cursor: pointer;
}
.region-token:hover {
  text-decoration: underline;
}
